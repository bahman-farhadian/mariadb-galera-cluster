---
# =============================================================================
# MariaDB Galera Cluster - Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# CLUSTER NODES (use ODD number: 3, 5, 7)
# -----------------------------------------------------------------------------
mariadb_nodes:
  - { ip: "192.168.1.10", name: "mariadb-node-1" }
  - { ip: "192.168.1.11", name: "mariadb-node-2" }
  - { ip: "192.168.1.12", name: "mariadb-node-3" }

# -----------------------------------------------------------------------------
# HAPROXY LOAD BALANCERS (optional - set to [] to disable)
# -----------------------------------------------------------------------------
haproxy_nodes:
  - { ip: "192.168.1.20", name: "mariadb-lb-1" }
  - { ip: "192.168.1.21", name: "mariadb-lb-2" }

# -----------------------------------------------------------------------------
# GALERA ARBITRATOR (for even node counts)
# IMPORTANT: Must set BOTH garbd_enabled: true AND provide garbd_nodes
# Garbd VMs must be SEPARATE from mariadb_nodes!
# -----------------------------------------------------------------------------
garbd_enabled: false
garbd_nodes: []
# Example for 2 or 4 MariaDB nodes:
#   garbd_enabled: true
#   garbd_nodes:
#     - { ip: "192.168.1.30", name: "garbd-1" }
garbd_port: 4568

# -----------------------------------------------------------------------------
# CLUSTER SETTINGS
# -----------------------------------------------------------------------------
cluster_name: "production_cluster"
sst_method: "rsync"  # rsync or mariabackup

# -----------------------------------------------------------------------------
# DATABASE CREDENTIALS (CHANGE THESE!)
# -----------------------------------------------------------------------------
mariadb_root_password: "ChangeMe_RootPassword123!"
admin_user: "admin"
admin_password: "ChangeMe_AdminPassword123!"
sst_user: "sst_user"
sst_password: "ChangeMe_SSTPassword123!"

# -----------------------------------------------------------------------------
# NETWORK PORTS
# -----------------------------------------------------------------------------
mysql_port: 3306
galera_port: 4567
ist_port: 4568
sst_port: 4444

# -----------------------------------------------------------------------------
# PATHS
# -----------------------------------------------------------------------------
mysql_log_dir: "/var/log/mysql"
mysql_data_dir: "/var/lib/mysql"
mysql_conf_dir: "/etc/mysql/mariadb.conf.d"

# -----------------------------------------------------------------------------
# HAPROXY STATS (CHANGE PASSWORD!)
# -----------------------------------------------------------------------------
haproxy_stats_enabled: true
haproxy_stats_port: 8404
haproxy_stats_user: "admin"
haproxy_stats_password: "ChangeMe_StatsPassword123!"
